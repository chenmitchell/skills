---
name: wechat-auto-reply
description: åŠè‡ªåŠ¨å›å¤å¾®ä¿¡è”ç³»äººæ¶ˆæ¯ï¼ˆç½®ä¿¡åº¦>85%è‡ªåŠ¨å‘é€ï¼Œå¦åˆ™ç¡®è®¤ï¼‰ï¼Œæˆ–ä¸»åŠ¨å‘é€æŒ‡å®šå†…å®¹ã€‚ä½¿ç”¨æ–¹å¼ï¼šwechat-auto-reply "è”ç³»äººåç§°" æˆ– wechat-auto-reply "è”ç³»äººåç§°" "æ¶ˆæ¯å†…å®¹"
---

# WeChat Auto Reply Skill

åŠè‡ªåŠ¨å›å¤å¾®ä¿¡è”ç³»äººæ¶ˆæ¯ï¼ˆåŸºäºAIç½®ä¿¡åº¦æ™ºèƒ½åˆ¤æ–­ï¼‰ï¼Œæˆ–ä¸»åŠ¨å‘é€æŒ‡å®šå†…å®¹ã€‚

## ğŸš€ å®‰è£…

### ä½¿ç”¨ Homebrewï¼ˆæ¨èï¼‰

```bash
# ä¸€è¡Œå®‰è£…
brew install bjdzliu/openclaw/wechat-auto-reply

# æˆ–è€…ä¸¤æ­¥å®‰è£…
brew tap bjdzliu/openclaw
brew install wechat-auto-reply
```

å®‰è£…åä¼šè‡ªåŠ¨ï¼š
- å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆ`cliclick`, `python@3`, `pyobjc`ï¼‰
- åˆ›å»ºå…¨å±€å‘½ä»¤ `wechat-auto-reply`
- è®¾ç½® OpenClaw skill é“¾æ¥åˆ° `~/.openclaw/workspace/skills/wechat-auto-reply`

## ğŸ’¡ ä½¿ç”¨æ–¹å¼

```bash
# OCR åŠè‡ªåŠ¨å›å¤ï¼ˆæŸ¥çœ‹èŠå¤©è®°å½•ï¼Œæ™ºèƒ½åˆ¤æ–­å›å¤å†…å®¹ï¼‰
# ç½®ä¿¡åº¦ > 85% è‡ªåŠ¨å‘é€ï¼Œå¦åˆ™å¼¹çª—ç¡®è®¤
wechat-auto-reply "è”ç³»äººåç§°"

# ä¸»åŠ¨å‘é€ï¼ˆç›´æ¥å‘é€æŒ‡å®šæ¶ˆæ¯ï¼Œä¸èµ° OCRï¼‰
wechat-auto-reply "è”ç³»äººåç§°" "æ¶ˆæ¯å†…å®¹"
```

**ç¤ºä¾‹ï¼š**
```bash
# åŠè‡ªåŠ¨å›å¤æ¨¡å¼
wechat-auto-reply "å°æ"      # å¦‚æœæ˜¯"åœ¨å—"ç­‰é«˜ç½®ä¿¡åœºæ™¯ï¼Œè‡ªåŠ¨å‘é€
wechat-auto-reply "å°ç‹"      # å¦‚æœæ˜¯é—®é¢˜ç±»ï¼Œä¼šå¼¹çª—è®©ä½ ç¡®è®¤æˆ–ä¿®æ”¹

# ä¸»åŠ¨å‘é€æ¨¡å¼
wechat-auto-reply "å°æ" "ä»€ä¹ˆæ—¶å€™ä¸‹ç­"
wechat-auto-reply "å°ç‹" "ä»Šå¤©è¡Œæƒ…æ€ä¹ˆæ ·"
```

## åŠŸèƒ½æè¿°

**ä¸¤ç§æ¨¡å¼ï¼š**
1. **åŠè‡ªåŠ¨å›å¤æ¨¡å¼**ï¼šæœç´¢è”ç³»äºº â†’ OCR è¯†åˆ«èŠå¤©å†…å®¹ â†’ AI åˆ¤æ–­å›å¤
   - ç½®ä¿¡åº¦ > 85% â†’ è‡ªåŠ¨å‘é€
   - ç½®ä¿¡åº¦ â‰¤ 85% â†’ å¼¹çª—ç¡®è®¤ï¼ˆå¯ä¿®æ”¹å›å¤å†…å®¹ï¼‰
2. **ä¸»åŠ¨å‘é€æ¨¡å¼**ï¼šæœç´¢è”ç³»äºº â†’ ç›´æ¥å‘é€æŒ‡å®šæ¶ˆæ¯

## ğŸ“‚ æ–‡ä»¶ä½ç½®

### Homebrew å®‰è£…å
- **Skill ç›®å½•**: `$(brew --prefix)/share/openclaw/skills/wechat-auto-reply`
- **ç”¨æˆ·é“¾æ¥**: `~/.openclaw/workspace/skills/wechat-auto-reply`
- **å…¨å±€å‘½ä»¤**: `$(brew --prefix)/bin/wechat-auto-reply`
- **é…ç½®æ–‡ä»¶**: `~/.openclaw/workspace/skills/wechat-auto-reply/wechat-dm.applescript`

### æŸ¥çœ‹å®‰è£…è·¯å¾„
```bash
which wechat-auto-reply
ls -la ~/.openclaw/workspace/skills/wechat-auto-reply
```

## ç¯å¢ƒå‡†å¤‡

### é€šè¿‡ Homebrew å®‰è£…ï¼ˆæ¨èï¼‰

æ‰€æœ‰ä¾èµ–ä¼šè‡ªåŠ¨å®‰è£…ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### æ‰‹åŠ¨å®‰è£…ä¾èµ–

#### ä¾èµ–å·¥å…·

| å·¥å…· | å®‰è£…æ–¹å¼ | ç”¨é€” |
|------|----------|------|
| `cliclick` | `brew install cliclick` | ç¨³å®šçš„é¼ æ ‡ç‚¹å‡» |
| `screencapture` | macOS å†…ç½® | æˆªå›¾ï¼ˆå¯é€šè¿‡ `/usr/sbin/screencapture` è°ƒç”¨ï¼‰ |
| Vision Framework | macOS 10.15+ | OCR æ–‡æœ¬è¯†åˆ« |

#### Python ä¾èµ–

```bash
pip3 install pyobjc
```

## å®ç°åŸç†

### 1. æ¿€æ´»å¾®ä¿¡

```applescript
tell application "WeChat" to activate
```

### 2. ç¡®ä¿å‰å°

```applescript
tell app "System Events"
  tell process "WeChat"
    set frontmost to true
  end tell
end tell
```

### 3. æœç´¢è”ç³»äºº

- ä½¿ç”¨ `Cmd+F` æ‰“å¼€æœç´¢
- é€šè¿‡å‰ªè´´æ¿ç²˜è´´è”ç³»äººåç§°
- æŒ‰å›è½¦è¿›å…¥èŠå¤©

### 4. OCR æˆªå›¾

ä½¿ç”¨ macOS Vision Framework è¯†åˆ«èŠå¤©å†…å®¹ï¼š

```python
from Vision import VNRecognizeTextRequest, VNImageRequestHandler

theRequest.setRecognitionLanguages(["zh-Hans", "en-US"])
theRequest.setUsesLanguageCorrection(True)
```

### 5. æ™ºèƒ½å›å¤åˆ¤æ–­ï¼ˆå¸¦ç½®ä¿¡åº¦ï¼‰

æ ¹æ®èŠå¤©å†…å®¹è‡ªåŠ¨ç”Ÿæˆå›å¤ï¼Œæ¯ä¸ªå›å¤éƒ½é™„å¸¦ç½®ä¿¡åº¦è¯„åˆ†ï¼š

| åœºæ™¯ | å…³é”®è¯ | å›å¤å†…å®¹ | ç½®ä¿¡åº¦ |
|------|--------|----------|--------|
| è¯¢é—®åœ¨çº¿ | "åœ¨å—"ã€"å¿™å—" | "åœ¨çš„ï¼Œä»€ä¹ˆäº‹ï¼Ÿ" | 95% |
| æ„Ÿè°¢å›å¤ | "è°¢è°¢"ã€"æ„Ÿè°¢" | "ä¸å®¢æ°”" | 95% |
| ç¡®è®¤ä¿¡æ¯ | "æ”¶åˆ°"+"å¥½çš„" | "å¥½çš„" | 90% |
| æŠ•èµ„è®¨è®º | "æŠ•èµ„"ã€"æŠ„åº•"ã€"è¡Œæƒ…" | "ä¸æ€¥ï¼Œç­‰ç¨³ä¸€ç‚¹" | 85% |
| é—®é¢˜å’¨è¯¢ | "?"ã€"ï¼Ÿ" | "æˆ‘çœ‹çœ‹ï¼Œç¨ç­‰" | 75% |
| ä¸€èˆ¬ç¡®è®¤ | "å¥½"ã€"OK" | "å¥½çš„" | 80% |
| æ—¶é—´ç›¸å…³ | "æ˜å¤©"ã€"å‡ ç‚¹" | "æˆ‘ç¡®è®¤ä¸€ä¸‹ï¼Œå›å¤´å‘Šè¯‰ä½ " | 70% |
| é»˜è®¤å›å¤ | å…¶ä»– | "æ”¶åˆ°" | 60% |

**ç½®ä¿¡åº¦è§„åˆ™ï¼š**
- **â‰¥ 85%**ï¼šç›´æ¥è‡ªåŠ¨å‘é€ï¼ˆé«˜ç½®ä¿¡åº¦åœºæ™¯ï¼‰
- **< 85%**ï¼šå¼¹çª—æ˜¾ç¤ºå»ºè®®å›å¤ï¼Œéœ€ç”¨æˆ·ç¡®è®¤
  - å¯é€‰æ‹©"ç¡®è®¤å‘é€"ç›´æ¥å‘é€
  - å¯é€‰æ‹©"ä¿®æ”¹å›å¤"æ‰‹åŠ¨ç¼–è¾‘å†…å®¹
  - å¯é€‰æ‹©"å–æ¶ˆ"ä¸å‘é€

### 6. å‘é€æ¶ˆæ¯

- ç‚¹å‡»è¾“å…¥æ¡†è·å–ç„¦ç‚¹
- ç²˜è´´å›å¤å†…å®¹
- æŒ‰å›è½¦å‘é€

## æ³¨æ„äº‹é¡¹

- **è¾“å…¥æ¡†åæ ‡**ï¼šé»˜è®¤ `{1000, 832}`ï¼Œéœ€æ ¹æ®å®é™…å±å¹•è°ƒæ•´
- **OCR è¯†åˆ«**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼Œè®¾ç½® `["zh-Hans", "en-US"]`
- **ç­‰å¾…æ—¶é—´**ï¼šæ¯æ¬¡æ“ä½œåå»ºè®®ç­‰å¾… 0.5-1s
- **å‰ªè´´æ¿**ï¼šä½¿ç”¨ AppleScript `set the clipboard` æ¯” `pbcopy` æ›´å¯é 
- **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼šé»˜è®¤ 85%ï¼Œå¯åœ¨è„šæœ¬ä¸­è°ƒæ•´ `if confidence > 85` è¿™ä¸€è¡Œ
- **ç¡®è®¤å¼¹çª—**ï¼šä½ç½®ä¿¡åº¦æ—¶ä¼šæ˜¾ç¤ºå®Œæ•´èŠå¤©å†…å®¹å’Œå»ºè®®å›å¤ï¼Œæ”¯æŒæ‰‹åŠ¨ä¿®æ”¹

## è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è¾“å…¥æ¡†åæ ‡

æ‰¾åˆ°é…ç½®æ–‡ä»¶ä½ç½®ï¼š
```bash
# Homebrew å®‰è£…
vim ~/.openclaw/workspace/skills/wechat-auto-reply/wechat-dm.applescript

# æˆ–ä½¿ç”¨ brew è·¯å¾„
vim $(brew --prefix)/share/openclaw/skills/wechat-auto-reply/wechat-dm.applescript
```

ä¿®æ”¹åæ ‡ï¼š
```applescript
cliclick c:1000,832  # ä¿®æ”¹ä¸ºä½ çš„åæ ‡
```

### è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š
```applescript
if confidence > 85 then  # ä¿®æ”¹ä¸ºä½ éœ€è¦çš„é˜ˆå€¼ï¼ˆ0-100ï¼‰
  set autoSend to true
```

### æ·»åŠ è‡ªå®šä¹‰å›å¤è§„åˆ™

åœ¨æ™ºèƒ½å›å¤åˆ¤æ–­éƒ¨åˆ†æ·»åŠ ï¼š
```applescript
else if ocrResult contains "ä½ çš„å…³é”®è¯" then
  set replyText to "ä½ çš„å›å¤å†…å®¹"
  set confidence to 90  -- è®¾ç½®ç½®ä¿¡åº¦
```

## æ›´æ–°ä¸å¸è½½

### æ›´æ–°
```bash
brew upgrade wechat-auto-reply
```

### å¸è½½
```bash
brew uninstall wechat-auto-reply

# å¯é€‰ï¼šåˆ é™¤ tap
brew untap bjdzliu/openclaw
```

## é”™è¯¯å¤„ç†

- å¾®ä¿¡æœªå®‰è£…ï¼šæç¤ºå®‰è£…å¾®ä¿¡
- æœç´¢æ— ç»“æœï¼šæç¤ºè”ç³»äººä¸å­˜åœ¨
- OCR å¤±è´¥ï¼šé‡è¯•æˆªå›¾æˆ–ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ
